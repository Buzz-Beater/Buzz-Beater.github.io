<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v7.4.1 <https://qwtel.com/hydejack/>
-->




<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">


  
<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Spring入门 | Baoxiong Jia</title>
<meta property="og:title" content="Spring入门" />
<meta name="author" content="Baoxiong Jia" />
<meta property="og:locale" content="en" />
<meta name="description" content="Spring框架模块 IOC控制反转 使用IOC创建对象的集中方式 通过无参数构造函数以及set方法来诸如 通过有参构造函数来进行注入 bean的配置 什么是bean Spring Hello World" />
<meta property="og:description" content="Spring框架模块 IOC控制反转 使用IOC创建对象的集中方式 通过无参数构造函数以及set方法来诸如 通过有参构造函数来进行注入 bean的配置 什么是bean Spring Hello World" />
<link rel="canonical" href="http://localhost:4000/2017/12/20/spring/" />
<meta property="og:url" content="http://localhost:4000/2017/12/20/spring/" />
<meta property="og:site_name" content="Baoxiong Jia" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-20T00:00:00-08:00" />
<script type="application/ld+json">
{"headline":"Spring入门","dateModified":"2017-12-20T00:00:00-08:00","datePublished":"2017-12-20T00:00:00-08:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2017/12/20/spring/"},"image":null,"author":{"@type":"Person","name":"Baoxiong Jia"},"description":"Spring框架模块 IOC控制反转 使用IOC创建对象的集中方式 通过无参数构造函数以及set方法来诸如 通过有参构造函数来进行注入 bean的配置 什么是bean Spring Hello World","name":null,"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/icons/icon.png"},"name":"Baoxiong Jia"},"@type":"BlogPosting","url":"http://localhost:4000/2017/12/20/spring/","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  
    <meta name="keywords" content="">
  


<meta name="mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Baoxiong Jia">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<meta name="application-name" content="Baoxiong Jia">
<meta name="msapplication-config" content="/assets/ieconfig.xml">


<meta name="theme-color" content="#4fb1ba">


<meta name="generator" content="Hydejack v7.4.1" />

<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Baoxiong Jia" />



<link rel="alternate" href="http://localhost:4000/2017/12/20/spring/" hreflang="en">

<link rel="shortcut icon" href="/assets/icons/favicon.ico">
<link rel="apple-touch-icon" href="/assets/icons/icon.png">

<link rel="manifest" href="/assets/manifest.json">


  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">




<link id="_katexJS"  rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js">
<link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css">

<script>
  function stdOnEnd(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function ieOnEnd(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}window.setRelStylesheet=function(n){function e(){this.rel="stylesheet"}var o=document.getElementById(n);o.addEventListener?o.addEventListener("load",e,!1):o.onload=e},window._loaded=!1,window.loadJSDeferred=function(n,e){function o(){window._loaded=!0;var o=document.createElement("script");o.src=n,e&&(("onload"in o?stdOnEnd:ieOnEnd)(o,e),o.onload||stdOnEnd(o,e));var t=document.scripts[0];t.parentNode.insertBefore(o,t)}window._loaded?o():window.addEventListener?window.addEventListener("load",o,!1):window.onload=o};
!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);

  window._noPushState = false;
  window._noDrawer = false;
</script>

<!--[if gt IE 8]><!---->


<script>
  WebFontConfig = {
    
    google: {
      families: ['Roboto+Slab:700','Noto+Sans:400,400i,700,700i']
    },
    

    custom: {
      families: ['icomoon'],
      urls: ['/assets/icomoon/style.css']
    }
  };
  (function(d) {
    var wf = d.createElement('script'), s = d.scripts[0];
    wf.src = "/assets/bower_components/webfontloader/webfontloader.js";
    s.parentNode.insertBefore(wf, s);
  }(document));
</script>
<!--<![endif]-->

<noscript>
  
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i">
    <style>
      html { font-family: Noto Sans, Helvetica, Arial, sans-serif }
      h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Roboto Slab, Helvetica, Arial, sans-serif }
    </style>
  

  <link rel="stylesheet" href="/assets/icomoon/style.css">
</noscript>

<!--[if gt IE 8]><!---->



  <link rel="stylesheet" href="/assets/css/hydejack-7.4.1.css">



<style id="_pageStyle">

.content a:not(.btn){color:#4fb1ba;border-color:rgba(79,177,186,0.2)}.content a:not(.btn):hover{border-color:#4fb1ba}:focus{outline-color:#4fb1ba}.btn-primary{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:focus,.btn-primary.focus{box-shadow:0 0 0 3px rgba(79,177,186,0.5)}.btn-primary:hover,.btn-primary.hover{color:#fff;background-color:#409ba3;border-color:#409ba3}.btn-primary:disabled,.btn-primary.disabled{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:active,.btn-primary.active{color:#fff;background-color:#409ba3;border-color:#409ba3}::selection{color:#fff;background:#4fb1ba}::-moz-selection{color:#fff;background:#4fb1ba}

</style>

<!--<![endif]-->




</head>

<body>
  <div class="navbar fixed-top">
  <div class="content">
    <div class="nav-btn-bar">
      <span class="sr-only">Jump to:</span>
      <a id="_menu" class="nav-btn no-hover" href="#_navigation">
        <span class="sr-only">Navigation</span>
        <span class="icon-menu"></span>
      </a>
    </div>
  </div>
</div>


<hy-push-state>
  <main
    id="_main"
    class="content fade-in layout-post"
    role="main"
    data-color="#4fb1ba"
    data-theme-color=""
    
      data-image="/assets/img/sidebar-bg.jpg
"
      data-overlay
    
    >
    


<article id="post-2017-12-20-spring" class="page post" role="article">
  <header>
    <h1 class="post-title">
      
        Spring入门
      
    </h1>

    <p class="post-date heading">
      
      <time datetime="2017-12-20T00:00:00-08:00">20 Dec 2017</time>
      
      
      
      
      











      









on <span>Java框架</span>

    </p>

    



  <div class="hr pb0"></div>


  </header>

  
    <ul>
  <li><a href="#spring%E6%A1%86%E6%9E%B6%E6%A8%A1%E5%9D%97">Spring框架模块</a></li>
  <li><a href="#ioc%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC">IOC控制反转</a></li>
  <li><a href="#%E4%BD%BF%E7%94%A8ioc%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%9B%86%E4%B8%AD%E6%96%B9%E5%BC%8F">使用IOC创建对象的集中方式</a>
    <ul>
      <li><a href="#%E9%80%9A%E8%BF%87%E6%97%A0%E5%8F%82%E6%95%B0%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%BB%A5%E5%8F%8Aset%E6%96%B9%E6%B3%95%E6%9D%A5%E8%AF%B8%E5%A6%82">通过无参数构造函数以及set方法来诸如</a></li>
      <li><a href="#%E9%80%9A%E8%BF%87%E6%9C%89%E5%8F%82%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%9D%A5%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5">通过有参构造函数来进行注入</a></li>
    </ul>
  </li>
  <li><a href="#bean%E7%9A%84%E9%85%8D%E7%BD%AE">bean的配置</a></li>
  <li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFbean">什么是bean</a>
    <ul>
      <li><a href="#spring-hello-world">Spring Hello World</a></li>
    </ul>
  </li>
</ul>

<h2 id="spring框架模块">Spring框架模块</h2>
<p>Data Access/Intergration: JDBC, 对象关系映射，OXM（java对象和xml之间的映射）, JMS（Java Message Service）,Transactions(对事物的主持)</p>

<p>Web: WebSocker, Servlet, Web, Portlet</p>

<p>AOP: 面向切面编程</p>

<p>IOC容器(控制反转容器)：Beans, Core, Context</p>

<p>Test: Junit</p>

<p>举一个最简单的例子，一般我们在创建完类后，需要实例华这个类，然后调用这个实例化出来的对象的方法。有了spring就不要这么做了。可以从配置文件中注入bean对象，然后调用这个bean对象中的方法，就可以完成之前的操作了。</p>

<h2 id="ioc控制反转">IOC控制反转</h2>
<p>对象从由原来的程序创建，变成了程序接受对象，传统的应用程序中，对象创建是由程序本身来控制，使用spring容器来控制后，就能够使用spring来托管创建对象。这里的反转就是表示程序本身不来创建对象，而是被动地接受对象。
我们先来看个例子，有一个class文件
Hello.java</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Hello</span> <span class="o">{</span>    
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"hello,"</span><span class="o">+</span><span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>Bean.xml 定义了hello类里的property name，其中value是Spring</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"1.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">beans</span> <span class="n">xmlns</span><span class="o">=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
    <span class="nl">xmlns:</span><span class="n">xsi</span><span class="o">=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="nl">xsi:</span><span class="n">schemaLocation</span><span class="o">=</span><span class="s">"http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="o">&gt;</span>  
    
    <span class="o">&lt;</span><span class="n">bean</span> <span class="n">id</span><span class="o">=</span><span class="s">"hello"</span> <span class="kd">class</span><span class="err">="</span><span class="nc">com</span><span class="o">.</span><span class="na">aiyin</span><span class="o">.</span><span class="na">spring</span><span class="o">.</span><span class="na">bean</span><span class="o">.</span><span class="na">Hello</span><span class="s">"&gt;
      &lt;property name="</span><span class="n">name</span><span class="s">" value="</span><span class="n">Spring</span><span class="err">"</span><span class="o">&gt;&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">bean</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">beans</span><span class="o">&gt;</span>
</code></pre></div></div>
<p>Test, 从spring容器中创建了hello对象，hello的对象属性也是spring容器中设置的</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//解析beans.xml文件 生成管理相应的bean对象</span>
        <span class="n">BeanFactory</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span>  <span class="n">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"beans.xml"</span><span class="o">);</span>
        <span class="c1">//Hello hello = (Hello)context.getBean("h4");</span>
        <span class="n">Hello</span> <span class="n">hello</span><span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="n">Hello</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">hello</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<h2 id="使用ioc创建对象的集中方式">使用IOC创建对象的集中方式</h2>
<p>由下面的例子我们看到，不管是使用哪种构造方式，核心的概念都在于使用一个bean.xml的xml文件来定义这个类的属性。在无参数的构造方式中，直接使用xml以及set方法来设置。在使用有参数构造方法中，只需要使用xml来设置参数的值就行了。</p>
<h3 id="通过无参数构造函数以及set方法来诸如">通过无参数构造函数以及set方法来诸如</h3>
<p>这个类是一个拥有无参数构造方法的类，可以看到，这里使用set方法来对name进行注入赋值</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Hello</span> <span class="o">{</span>
    <span class="n">Public</span>  <span class="nf">Hello</span> <span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"user通过无参构造方法创建"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"hello,"</span><span class="o">+</span><span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>
<p>bean.xml文件来对Hello类进行注入</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">&lt;</span><span class="n">bean</span> <span class="n">id</span><span class="o">=</span><span class="s">"hello"</span> <span class="kd">class</span><span class="err">="</span><span class="nc">com</span><span class="o">.</span><span class="na">aiyin</span><span class="o">.</span><span class="na">spring</span><span class="o">.</span><span class="na">bean</span><span class="o">.</span><span class="na">Hello</span><span class="s">"&gt;
      &lt;property name="</span><span class="n">name</span><span class="s">" value="</span><span class="n">Spring</span><span class="err">"</span><span class="o">&gt;&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">bean</span><span class="o">&gt;</span>
</code></pre></div></div>

<h3 id="通过有参构造函数来进行注入">通过有参构造函数来进行注入</h3>
<p>有参数构造函数</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">User</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">();</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"name="</span><span class="o">+</span><span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>这里的bean xml的定义主要有三种方式，分别是下标，参数名以及参数类型</p>

<p>下标:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">bean</span> <span class="n">id</span><span class="o">=</span><span class="s">"user"</span> <span class="kd">class</span><span class="err">="</span><span class="nc">com</span><span class="o">.</span><span class="na">aiyin</span><span class="o">.</span><span class="na">spring</span><span class="o">.</span><span class="na">vo</span><span class="o">.</span><span class="na">User</span><span class="s">"&gt;
    &lt;!-- index指构造方法  参数下标从0开始 --&gt;
    &lt;constructor-arg index="</span><span class="mi">0</span><span class="s">" value="</span><span class="err">李四"</span><span class="o">&gt;&lt;/</span><span class="n">constructor</span><span class="o">-</span><span class="n">arg</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">bean</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>参数名字:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">bean</span> <span class="n">id</span><span class="o">=</span><span class="s">"user"</span> <span class="kd">class</span><span class="err">="</span><span class="nc">com</span><span class="o">.</span><span class="na">aiyin</span><span class="o">.</span><span class="na">spring</span><span class="o">.</span><span class="na">vo</span><span class="o">.</span><span class="na">User</span><span class="s">"&gt;
    &lt;!-- name指参数名  --&gt;
    &lt;constructor-arg name="</span><span class="n">name</span><span class="s">" value="</span><span class="err">李四"</span><span class="o">&gt;&lt;/</span><span class="n">constructor</span><span class="o">-</span><span class="n">arg</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">bean</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>参数类型:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">bean</span> <span class="n">id</span><span class="o">=</span><span class="s">"user"</span> <span class="kd">class</span><span class="err">="</span><span class="nc">com</span><span class="o">.</span><span class="na">aiyin</span><span class="o">.</span><span class="na">spring</span><span class="o">.</span><span class="na">vo</span><span class="o">.</span><span class="na">User</span><span class="s">"&gt;
    &lt;!-- 参数类型  --&gt;
    &lt;constructor-arg type="</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">String</span><span class="s">" value="</span><span class="err">李四"</span><span class="o">&gt;&lt;/</span><span class="n">constructor</span><span class="o">-</span><span class="n">arg</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">bean</span><span class="o">&gt;</span>
</code></pre></div></div>

<h2 id="bean的配置">bean的配置</h2>

<h2 id="什么是bean">什么是bean</h2>
<p>bean其实就是一种java对象，我们在定义一个bean的时候，需要配置id，别名以及bean的class全限定名（包名+类名）。
bean的规范是有：</p>
<ol>
  <li>私有属性</li>
  <li>由set和get方法</li>
  <li>分别有无参数和有参数的构造方法，方便使用构造器进行对象注入。</li>
</ol>

<h3 id="spring-hello-world">Spring Hello World</h3>
<p>下面我们来看一个简单的Spring程序，来理解Spring大概的工作机制</p>

<p>首先定义一个接口类</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">spring</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">IHelloMessage</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">sayHello</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p>然后定义这个借口两个实现bean类</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">spring</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorld</span> <span class="kd">implements</span> <span class="n">IHelloMessage</span> <span class="o">{</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">sayHello</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"HelloWorld"</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">spring</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloChina</span> <span class="kd">implements</span> <span class="n">IHelloMessage</span><span class="o">{</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">sayHello</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"Hello China"</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>定义一个person的bean类，这个bean类中会被注入两个bean类。同时，这个bean被提供了无参数构造函数，set和get方法。同时还有有参构造函数。所有的这一切，都是为了能够进行方便的对象的注入。</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">spring</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
	<span class="c1">// 私有的成员</span>
	<span class="kd">private</span> <span class="n">IHelloMessage</span> <span class="n">helloMessage</span><span class="o">;</span>
	
	<span class="c1">// 无参构造函数</span>
	<span class="kd">public</span> <span class="nf">Person</span><span class="o">()</span> <span class="o">{</span>
		
	<span class="o">}</span>
	<span class="c1">// 带参数的构造器注入</span>
	<span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">IHelloMessage</span> <span class="n">helloMessage</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">helloMessage</span> <span class="o">=</span> <span class="n">helloMessage</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">//get函数</span>
	<span class="kd">public</span> <span class="n">IHelloMessage</span> <span class="nf">getHelloMessage</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">helloMessage</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">//set函数</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setHelloMessage</span><span class="o">(</span><span class="n">IHelloMessage</span> <span class="n">helloMessage</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">helloMessage</span> <span class="o">=</span> <span class="n">helloMessage</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">sayHello</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">helloMessage</span><span class="o">.</span><span class="na">sayHello</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>XML bean的定义</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"1.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"UTF-8"</span> <span class="o">?&gt;</span>
<span class="o">&lt;!</span><span class="n">DOCTYPE</span> <span class="n">beans</span> <span class="n">PUBLIC</span> <span class="s">"-//SPRING/DTD BEAN/EN"</span>
    <span class="s">"http://www.springframework.org/dtd/spring-beans.dtd"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">beans</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">bean</span> <span class="n">id</span><span class="o">=</span><span class="s">"helloWorld"</span> <span class="kd">class</span><span class="err">="</span><span class="nc">spring</span><span class="o">.</span><span class="na">HelloWorld</span><span class="s">"&gt;&lt;/bean&gt;

&lt;bean id="</span><span class="n">helloChina</span><span class="s">" class="</span><span class="n">spring</span><span class="o">.</span><span class="na">HelloChina</span><span class="s">"&gt;&lt;/bean&gt;

&lt;bean id="</span><span class="n">person</span><span class="s">" class="</span><span class="n">spring</span><span class="o">.</span><span class="na">Person</span><span class="s">"&gt;
    &lt;!-- 配置依赖关系  控制反转  get/set方法注入 --&gt;
    &lt;!-- &lt;property name="</span><span class="n">helloMessage</span><span class="s">" ref="</span><span class="n">helloWorld</span><span class="s">"&gt;&lt;/property&gt; --&gt;    
    
    &lt;!-- 构造器注入 --&gt;
    &lt;constructor-arg ref="</span><span class="n">helloChina</span><span class="err">"</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">bean</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="n">beans</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>在spring框架中加载java bean，并使用它们</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">spring</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.BeanFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.xml.XmlBeanFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.core.io.FileSystemResource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.core.io.Resource</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// import配置文件</span>
		<span class="n">Resource</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileSystemResource</span><span class="o">(</span><span class="s">"helloMessage.xml"</span><span class="o">);</span>
		<span class="c1">// load配置文件</span>
		<span class="n">BeanFactory</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XmlBeanFactory</span><span class="o">(</span><span class="n">r</span><span class="o">);</span>
		
		<span class="c1">//从bean factory中获取Person实例</span>
		<span class="n">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="o">(</span><span class="n">Person</span><span class="o">)</span> <span class="n">f</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"person"</span><span class="o">);</span>
		<span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">sayHello</span><span class="o">();</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>


  
</article>


<hr class="dingbat related" />




  
    




  

  
    





  


    


    <footer role="contentinfo">
  <hr/>
  
  <p><small class="copyright">© 2018. All rights reserved.
</small></p>
  
  
  <hr class="sr-only"/>
</footer>

  </main>
  <hy-drawer>
  <header id="_sidebar" class="sidebar" role="banner">
    
    <div class="sidebar-bg sidebar-overlay" style="background-color:#4fb1ba;background-image:url(/assets/img/sidebar-bg.jpg
)"></div>

    <div class="sidebar-sticky">
      <div class="sidebar-about">
        <h2 class="h1"><a href="/">Baoxiong Jia</a></h2>
        
        
          <p class="">
            Researcher, Programmer, Dreamer

          </p>
        
      </div>

      <nav class="sidebar-nav heading" role="navigation">
        <span class="sr-only">Navigation:</span>
<ul>
  
  
  
  
    
      <li>
        <a
          id="_navigation"
          href="/notes/"
          class="sidebar-nav-item"
          
          >
          Notes
        </a>
      </li>
    
  
    
      <li>
        <a
          
          href="/posts/"
          class="sidebar-nav-item"
          
          >
          Posts
        </a>
      </li>
    
  
    
      <li>
        <a
          
          href="/publications/"
          class="sidebar-nav-item"
          
          >
          Publication
        </a>
      </li>
    
  
    
      <li>
        <a
          
          href="/docs/7.5.0/"
          class="sidebar-nav-item"
          
          >
          Documentation
        </a>
      </li>
    
  
</ul>

      </nav>

      

      <div class="sidebar-social">
        <span class="sr-only">Social:</span>
<ul>
  

  

  
    













<li>
  <a href="https://twitter.com/<username>" title="Twitter" class="no-mark-external">
    <span class="icon-twitter"></span>
    <span class="sr-only">Twitter</span>
  </a>
</li>

  
    













<li>
  <a href="https://github.com/Buzz-Beater" title="GitHub" class="no-mark-external">
    <span class="icon-github"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    













<li>
  <a href="mailto:jerryjiabx@gmail.com" title="Email" class="no-mark-external">
    <span class="icon-mail"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  
</ul>

      </div>
    </div>
  </header>
</hy-drawer>

</hy-push-state>


  

  <!--[if gt IE 9]><!---->
  
  <script>loadJSDeferred('/assets/js/hydejack-7.4.1.js');</script>
  
  <!--<![endif]-->



  
<hr class="sr-only"/>
<h2 class="sr-only">Templates (for web app):</h2>

<template id="_animation-template">
  <div class="animation-main fixed-top">
    <div class="content">
      <div class="page"></div>
    </div>
  </div>
</template>

<template id="_loading-template">
  <div class="loading">
    <span class="sr-only">Loading…</span>
    <span class="icon-cog"></span>
  </div>
</template>

<template id="_error-template">
  <div class="page">
    <h1 class="page-title">Error</h1>
    
    
    <p class="lead">
      Sorry, an error occurred while loading <a class="this-link" href=""></a>.

    </p>
  </div>
</template>

<template id="_back-template">
  <a id="_back" class="back nav-btn no-hover">
    <span class="sr-only">Back</span>
    <span class="icon-arrow-left2"></span>
  </a>
</template>



</body>
</html>
